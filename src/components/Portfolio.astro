---
const items = [
  {
    img: "/images/portfolio/portfolio-1.jpg",
    fallback: "https://images.unsplash.com/photo-1567095761054-7a02e69e5c43?w=900&h=500&fit=crop",
    title: "Neon Box Restoran",
    cat: "NEON BOX"
  },
  {
    img: "/images/portfolio/portfolio-2.jpg",
    fallback: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600&h=400&fit=crop",
    title: "Huruf Timbul Stainless",
    cat: "HURUF TIMBUL"
  },
  {
    img: "/images/portfolio/portfolio-3.jpg",
    fallback: "https://images.unsplash.com/photo-1486611367184-6053a8a7d404?w=600&h=400&fit=crop",
    title: "Billboard Outdoor",
    cat: "BILLBOARD"
  },
  {
    img: "/images/portfolio/portfolio-4.jpg",
    fallback: "https://images.unsplash.com/photo-1533174072545-7a4b6ad7a6c3?w=600&h=400&fit=crop",
    title: "Neonflex Dekorasi",
    cat: "NEONFLEX"
  },
  {
    img: "/images/portfolio/portfolio-5.jpg",
    fallback: "https://images.unsplash.com/photo-1497366412874-3415097a27e7?w=600&h=400&fit=crop",
    title: "Acrylic LED Toko",
    cat: "ACRYLIC LED"
  },
  {
    img: "/images/portfolio/portfolio-6.jpg",
    fallback: "https://images.unsplash.com/photo-1486325212027-8081e485255e?w=600&h=400&fit=crop",
    title: "Pylon Sign Gedung",
    cat: "PYLON SIGN"
  },
];
---
<section class="portfolio" id="portfolio">
  <div class="container">
    <div class="portfolio-header">
      <div>
        <span class="section-label">GALLERY</span>
        <h2 class="section-title">Portfolio <span class="neon-pink">Kami</span></h2>
      </div>
      <a href="http://bit.ly/cs-hurufled" target="_blank" rel="noopener" class="btn btn-outline">
        LIHAT SEMUA â†’
      </a>
    </div>
    <div class="portfolio-grid">
      {items.map((item) => (
        <div class="portfolio-item">
          <img
            src={item.fallback}
            alt={item.title}
            width="900" height="500"
            loading="lazy"
            data-local={item.img}
          />
          <div class="portfolio-overlay">
            <div>
              <div class="portfolio-overlay-cat">{item.cat}</div>
              <h4>{item.title}</h4>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  document.querySelectorAll('.portfolio-item img[data-local]').forEach((img) => {
    const el = img as HTMLImageElement;
    const localSrc = el.dataset.local;
    if (!localSrc) return;
    const testImg = new Image();
    testImg.onload = () => { el.src = localSrc; };
    testImg.src = localSrc;
  });
</script>
